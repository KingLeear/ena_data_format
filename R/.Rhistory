shiny::runApp('~/Desktop/ENA/ENA_3D/R')
runApp('~/Desktop/ENA/ENA_3D/R')
shiny::runApp()
# Upload file and load the ena obj in the environment
observeEvent(input$ena_data_file,{
print(paste0('Receive input file',input$ena_data_file))
file <- input$ena_data_file
ext <- tools::file_ext(file$datapath)
req(file)
validate(
need(ext == "Rdata" || ext == "RData", "Please upload a Rdata file")
)
print('load ena data')
env_ena_data <- load(file=file$datapath)
rv$ena_obj = get(env_ena_data)
# Find all Dimensions (MR1, SVD2, SVD3 ...)
dims <- list()
for(i in colnames(rv$ena_obj$points)){
if(i %!in% colnames(rv$ena_obj$meta.data)){
dims=append(dims,i)
}
}
print('update group var')
rv$ena_groupVar <- get_ena_group_var(rv$ena_obj)
# # rv$ena_groups <- unique(as.data.frame(rv$ena_obj$points)[rv$ena_groupVar[1]])
# rv$ena_groups <- unique(rv$ena_obj$points[,get(rv$ena_groupVar[1])])
pts <- as.data.frame(rv$ena_obj$points)
# 沒有 groupVar：就不要算 groups
if (is.null(rv$ena_groupVar) || length(rv$ena_groupVar) == 0) {
rv$ena_groups <- NULL
} else {
gv <- rv$ena_groupVar[1]
if (!gv %in% names(pts)) {
stop(paste0("Group var '", gv, "' not found in ena_obj$points. Available: ", paste(names(pts), collapse=", ")))
}
rv$ena_groups <- unique(pts[[gv]])
}
print(paste0("rv$ena_groupVar: ", paste(rv$ena_groupVar, collapse=",")))
print(paste0("rv$ena_groups: ", paste(rv$ena_groups, collapse=",")))
##################################
print(paste0('rv$ena_groupVar:',typeof(rv$ena_groupVar)))
print(paste0('rv$ena_groupsL',typeof(rv$ena_groups)))
dim_choices <- unique(dims)
updateSelectInput(session, "x", choices = dim_choices, selected = dim_choices[1])
updateSelectInput(session, "y", choices = dim_choices, selected = dim_choices[2])
updateSelectInput(session, "z", choices = dim_choices, selected = dim_choices[3])
# update groups
updateSelectInput(session, "change_group_1", choices = rv$ena_groups, selected = rv$ena_groups[1])
updateSelectInput(session, "change_group_2", choices = rv$ena_groups, selected = rv$ena_groups[1])
# update unit selection
updateSelectInput(session, "group_change_var", choices = rv$ena_groupVar, selected = rv$ena_groupVar[1])
unit_slider_choices=sort(unique(rv$ena_obj$points[,get(rv$ena_groupVar[1])]))
updateSliderTextInput(session=session,inputId='unit_change',choices = unit_slider_choices)
print(paste0('choices:',rv$ena_groupVar))
# print(paste0(' updateSlider choices:',a))
shinyjs::show("ena_points_plot")
initialized(TRUE)
})
runApp()
runApp()
### Load Libraries
library(rENA)
### Load Data
file = read.csv('/Users/tiffanyhsu/Downloads/Sample\ RS\ Data\ Set-2/data/data.csv')
file
### Make Set with plots
set = ena(
data = file,
codes = c("E.data","S.data","E.design","S.design","S.professional","E.client","V.client","E.consultant","V.consultant","S.collaboration","I.engineer","I.intern","K.actuator","K.rom","K.materials","K.power","K.sensor","K.design.specs","K.attribute","K.data","K.design","Tradeoffs","Performance.Parameters","Constraints.and.Requests","Collaboration","Data"),
units = c("Condition","UserName"),
conversation = c("Condition","GroupName","ActivityNumber"),
metadata = NULL,
model = "EndPoint",
window.size.back = 3,
weight.by = '$',
mean = TRUE,
points = TRUE,
include.plots = TRUE,
print.plots = TRUE,groupVar = c("Condition"), groups = c("FirstGame","SecondGame"))
load("/Users/tiffanyhsu/Downloads/Sample RS Data Set-2/data/enaset.Rdata")
load("~/Desktop/ENA_testing file/Sample RS Data Set/data/enaset.Rdata")
str(ENAset)
ena_dataset <- load("/Users/tiffanyhsu/Downloads/Sample RS Data Set-2/data/enaset.Rdata")
str(ena_dataset)
load("~/Desktop/ENA_testing file/Sample RS Data Set/data/enaset.Rdata")
View(`Sample RS Data Set`)
load("~/Desktop/ENA_testing file/ena_3d_sets.RData")
load("~/Desktop/ENA_testing file/ena_3d_sets.RData")
load("~/Desktop/ENA_testing file/ena_3d_sets.RData")
load("~/Desktop/ENA_testing file/ena_3d_sets.RData")
load("~/Desktop/ENA_testing file/ena_3d_sets.RData")
View(sets)
